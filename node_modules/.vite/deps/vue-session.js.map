{
  "version": 3,
  "sources": ["../../vue-session/index.js"],
  "sourcesContent": ["var STORAGE = null;\nvar VueSession = {\n    key: 'vue-session-key',\n    flash_key: 'vue-session-flash-key',\n    setAll: function(all){\n        STORAGE.setItem(VueSession.key,JSON.stringify(all));\n    }\n}\n\nVueSession.install = function(Vue, options) {\n    if(options && 'persist' in options && options.persist) STORAGE = window.localStorage;\n    else STORAGE = window.sessionStorage;\n    Vue.prototype.$session = {\n        flash: {\n            parent: function(){\n                return Vue.prototype.$session;\n            },\n            get: function(key){\n                var all = this.parent().getAll();\n                var all_flash = all[VueSession.flash_key] || {};\n\n                var flash_value = all_flash[key];\n\n                this.remove(key);\n\n                return flash_value;\n            },\n            set: function(key, value){\n                var all = this.parent().getAll();\n                var all_flash = all[VueSession.flash_key] || {};\n\n                all_flash[key] = value;\n                all[VueSession.flash_key] = all_flash;\n\n                VueSession.setAll(all);\n            },\n            remove: function(key){\n                var all = this.parent().getAll();\n                var all_flash = all[VueSession.flash_key] || {};\n\n                delete all_flash[key];\n\n                all[VueSession.flash_key] = all_flash;\n                VueSession.setAll(all);\n            }\n        },\n        getAll: function(){\n            var all = JSON.parse(STORAGE.getItem(VueSession.key));\n            return all || {};\n        },\n        set: function(key,value){\n            if(key == 'session-id') return false;\n            var all = this.getAll();\n\n            if(!('session-id' in all)){\n                this.start();\n                all = this.getAll();\n            }\n\n            all[key] = value;\n\n            VueSession.setAll(all);\n        },\n        get: function(key){\n            var all = this.getAll();\n            return all[key];\n        },\n        start: function(){\n            var all = this.getAll();\n            all['session-id'] = 'sess:'+Date.now();\n\n            VueSession.setAll(all);\n        },\n        renew: function(sessionId){\n            var all = this.getAll();\n            all['session-id'] = 'sess:' + sessionId;\n            VueSession.setAll(all);\n        },\n        exists: function(){\n            var all = this.getAll();\n            return 'session-id' in all;\n        },\n        has: function(key){\n            var all = this.getAll();\n            return key in all;\n        },\n        remove: function(key){\n            var all = this.getAll();\n            delete all[key];\n\n            VueSession.setAll(all);\n        },\n        clear: function(){\n            var all = this.getAll();\n\n            VueSession.setAll({'session-id': all['session-id']});\n        },\n        destroy: function(){\n            VueSession.setAll({});\n        },\n        id: function(){\n            return this.get('session-id');\n        }\n    }\n};\n\nmodule.exports = VueSession;\n"],
  "mappings": "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",
  "names": []
}
